<!DOCTYPE html>
<html>
  <head>
    <title>Grid of Icons</title>
  </head>
  <body>
    <div id="grid"></div>
    <script>
      const grid = document.getElementById("grid");
      const icons = [
        "icons/icon1.png",
        "icons/icon2.png",
        "icons/icon3.png",
        "icons/icon4.png",
        "icons/icon5.png",
        "icons/icon6.png",
      ];
      const rows = 4;
      const cols = 3;
      let draggedIcon = null;

      function handleDragStart(e) {
        draggedIcon = e.target;
        e.dataTransfer.effectAllowed = "move";
        e.dataTransfer.setData("text/html", draggedIcon.outerHTML);
        e.target.classList.add("dragging");
      }

      function handleDragOver(e) {
        if (e.preventDefault) {
          e.preventDefault();
        }
        e.dataTransfer.dropEffect = "move";
        return false;
      }

      function handleDrop(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        }
        if (draggedIcon !== e.target) {
          draggedIcon.parentNode.removeChild(draggedIcon);
          const dropHTML = e.dataTransfer.getData("text/html");
          e.target.insertAdjacentHTML("beforebegin", dropHTML);
          const dropIcon = e.target.previousSibling;
          dropIcon.addEventListener("dragstart", handleDragStart);
          dropIcon.addEventListener("dragend", handleDragEnd);
        }
        return false;
      }

      function handleDragEnd(e) {
        e.target.classList.remove("dragging");
      }

      for (let i = 0; i < rows; i++) {
        const row = document.createElement("div");
        row.classList.add("row");

        for (let j = 0; j < cols; j++) {
          const icon = document.createElement("img");
          const randomIcon = icons[Math.floor(Math.random() * icons.length)];
          icon.src = randomIcon;
          icon.classList.add("icon");
          icon.setAttribute("draggable", true);
          icon.addEventListener("dragstart", handleDragStart);
          icon.addEventListener("dragover", handleDragOver);
          icon.addEventListener("drop", handleDrop);
          icon.addEventListener("dragend", handleDragEnd);
          row.appendChild(icon);
        }

        grid.appendChild(row);
      }
    </script>
    <style>
      #grid {
        display: flex;
        flex-direction: column;
      }

      .row {
        display: flex;
        justify-content: space-around;
        margin: 10px;
      }

      .icon {
        width: 100px;
        height: 100px;
        margin: 10px;
      }

      .dragging {
        opacity: 0.5;
      }
    </style>
  </body>
</html>
